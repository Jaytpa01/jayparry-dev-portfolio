---
import Card from "@components/Card.astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import { filterDraftArticles } from "src/filter";

const projects = await getCollection("project", filterDraftArticles);
projects.sort(
	(a, b) => a.data.publishDate.getTime() - b.data.publishDate.getTime(),
);

const mostRecentProjects = projects.slice(0, 2);
---

<BaseLayout title="Jay Parry">
	<div class="space-y-12">
		<section
			class="space-y-6 rounded-l border border-gray-200 bg-gray-50 px-4 py-3 text-lg text-base-content dark:border-base-content dark:bg-base-100"
		>
			<p>Hi! I'm Jay, a full-stack developer.</p>
			<p>
				Growing up, I naturally gravitated towards tech and software
				development.
			</p>
			<p>
				I've studied both Mechatronics Engineering and Computer Science at The
				University of Newcastle. For a handful of reasons, I've since put my
				studies on pause in favour of pursuing a career in software development!
			</p>
			<p>
				Professionally, I've primarily worked on React applications with NodeJS
				and Go backends. When I find the time, I also like to work on personal
				projects - building with technologies including Golang, React (with
				Typescript of course), TailwindCSS, Astro and Postgres!
			</p>
		</section>

		<section class="space-y-6">
			<h2 class="mb-2 w-full text-3xl font-bold lg:text-4xl">
				My Latest Projects &lt;/&gt;
			</h2>

			<div class="space-y-12">
				{
					mostRecentProjects.map((p) => (
						<Card
							title={p.data.title}
							to={`/projects/${p.slug}`}
							content={p.data.description}
							image={p.data.image}
						/>
					))
				}
			</div>
		</section>
	</div>
</BaseLayout>
